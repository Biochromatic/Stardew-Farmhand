<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <link href='https://fonts.googleapis.com/css?family=Chivo:900' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-dark.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <title>Stardew-revolution by ClxS</title>
  </head>

  <body>
    <div id="container">
      <div class="inner">

        <header>
          <h1>Stardew-revolution</h1>
          <h2></h2>
        </header>

        <section id="downloads" class="clearfix">
          <a href="https://github.com/ClxS/Stardew-Revolution/zipball/master" id="download-zip" class="button"><span>Download .zip</span></a>
          <a href="https://github.com/ClxS/Stardew-Revolution/tarball/master" id="download-tar-gz" class="button"><span>Download .tar.gz</span></a>
          <a href="https://github.com/ClxS/Stardew-Revolution" id="view-on-github" class="button"><span>View on GitHub</span></a>
        </section>

        <hr>

        <section id="main_content">
          <h3>
<a id="welcome-to-github-pages" class="anchor" href="#welcome-to-github-pages" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>MyFirstBuild</h3>

<p>Building the project for the first time can seem a little daunting given the number of projects and no doubt countless missing references you'll see but be unable to resolve. Fear not, it only takes about as many steps as SMAPI to be up and running! :)
</p>
<p>
  <ol>
    <li>
      Repair Stardew Valley and xTile references. These will be located in:
      <ul>
        <li>"Libraries/Revolution" (Stardew Valley and xTile)</li>
        <li>"Mods/ModLoaderMod" (xTile only)</li>
        <li>"Libraries/SmapiCompatibilityLayer" (xTile only)</li>
        <li><span style="font-weight:bold">(do not touch the Stardew Revolution references or try to add new references to fix errors)</span></li>
      </ul>
    </li>
    <li>
      Build the project "BuildTasks/BuildRevolutionFinal", this should have fixed all reference errors and built the API in /WorkingDirectory. Intermediate build binaries will be in /Bin
      <ul>
        <li>If you get Newtonsoft.Json errors: It's been known to incorrectly download the 4.5 version when we need to 4.0 version. To fix this, right click the Revolution project, Manage NuGet Packages, uninstall Newtonsoft.Json and readd it.</li>
      </ul>
    </li>
    <li>
       To ease your workflow, copy the Stardew Valley Contents folder into /WorkingDirectory, and the same with Stardew Valley's DLLs (i.e. xTile.dll and Steamworks.NET.dll). You are now ready to start working on the API! :)
    </li>
    <li>For your reference, Stardew Revolution.int1.dll is generated by BuildRevolutionIntermediate. This bundles together the Revolution core code into Stardew Valley. This is then used by second pass build libraries such as Revolution UI so it can take advantage of methods injected into Stardew during the first pass.</li>
  </ol>
</p>

 <h3>
<a id="welcome-to-github-pages" class="anchor" href="#welcome-to-github-pages" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Working on the core API</h3>

<p>The core API is located inside Libraries/Revolution. For changes to this library to be reflected, you'll need to manually trigger BuildRevolutionFinal. Alternatively you can add BuildRevolutionFinal as a build dependency to Tools/RevolutionDebugger. This is not done as default as it would lower iteration times for developers working on mods - who do not need to constantly rebuild the API.</p>
<p>Note, that if you are working on both Revolution and a second-pass API library (Revoluton UI), you will need to manually build BuildRevolutionIntermediate to fix intellisence reference warnings. However, these warnings can just be ignored and will do away upon trigging a final build if the code is correct.</p>
        </section>
  
        <footer>
          Stardew-revolution is maintained by <a href="https://github.com/ClxS">ClxS</a><br>
          Tactile theme by <a href="https://twitter.com/jasonlong">Jason Long</a>.
        </footer>
      </div>
    </div>
  </body>
</html>
